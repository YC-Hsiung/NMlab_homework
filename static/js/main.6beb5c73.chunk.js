(this.webpackJsonphw2=this.webpackJsonphw2||[]).push([[0],{13:function(t,e,a){},7:function(t,e,a){t.exports=a(8)},8:function(t,e,a){"use strict";a.r(e);var i=a(2),n=a(3),o=a(6),r=a(5),s=a(0),c=a.n(s),d=a(4),h=a.n(d);a(13);function l(t){return 0===t.type?c.a.createElement("div",{className:"ground"}):1===t.type?c.a.createElement("div",{className:"snackbody"}):c.a.createElement("div",{className:"food"})}var w=function(t){Object(o.a)(a,t);var e=Object(r.a)(a);function a(t){var n;return Object(i.a)(this,a),(n=e.call(this,t)).handleKeyDown=function(t){n.state.gamestart&&t.keyCode>=37&&t.keyCode<=40&&n.setState({direction:t.key})},n.gameprocess=function(){n.movesnack(),n.generatefood(),-1!==n.state.snack.slice(1,-1).indexOf(n.state.snack[0])&&n.setState({gamestart:!1,buttonDescription:"RESTART"})},n.movesnack=function(){if(n.state.gamestart){var t=Array(Math.pow(n.width,2)).fill(0),e=n.state.field.indexOf(2);t[e]=2;var a=n.state.snack.slice();if(a.length>1)switch(n.state.direction){case"ArrowUp":a[0]-n.width!==a[1]&&a[0]-n.width+Math.pow(n.width,2)!==a[1]||n.setState({direction:"ArrowDown"});break;case"ArrowLeft":a[0]-1!==a[1]&&a[0]-1+n.width!==a[1]||n.setState({direction:"ArrowRight"});break;case"ArrowDown":a[0]+n.width!==a[1]&&a[0]+n.width-Math.pow(n.width,2)!==a[1]||n.setState({direction:"ArrowUp"});break;case"ArrowRight":a[0]+1!==a[1]&&a[0]+1-n.width!==a[1]||n.setState({direction:"ArrowLeft"})}var i=null;switch(n.state.direction){case"ArrowUp":i=a[0]-n.width,a.unshift(i>0?i:i+Math.pow(n.width,2));break;case"ArrowLeft":i=a[0]-1,a.unshift(a[0]%n.width===0?i+n.width:i);break;case"ArrowDown":i=a[0]+n.width,a.unshift(i<Math.pow(n.width,2)?i:i-Math.pow(n.width,2));break;case"ArrowRight":i=a[0]+1,a.unshift(i%n.width!==0?i:i-n.width)}i!==e?a.pop():n.setState({ExistFood:!1,score:n.state.score+1}),a.forEach((function(e){t[e]=1})),n.setState({snack:a,field:t})}},n.generatefood=function(){if(!n.state.ExistFood){var t=n.state.field,e=0;do{e=Math.floor(Math.random()*(Math.pow(n.width,2)-1))}while(-1!==n.state.snack.indexOf(e));t[e]=2,n.setState({field:t,ExistFood:!0})}},n.handleOnClick=function(){n.state.gamestart||"START"!==n.state.buttonDescription?"PAUSE"===n.state.buttonDescription?n.setState({gamestart:!1,buttonDescription:"CONTINUE"}):"CONTINUE"===n.state.buttonDescription?n.setState({gamestart:!0,buttonDescription:"PAUSE"}):"RESTART"===n.state.buttonDescription&&n.setState({gamestart:!0,buttonDescription:"PAUSE",snack:[Math.floor(Math.pow(n.width,2)/2)],direction:"ArrowRight",score:0,field:Array(Math.pow(n.width,2)).fill(0),ExistFood:!1}):n.setState({gamestart:!0,buttonDescription:"PAUSE"})},n.width=n.props.width,n.state={field:Array(Math.pow(n.width,2)).fill(0),snack:[Math.floor(Math.pow(n.width,2)/2)],direction:"ArrowRight",gamestart:!1,score:0,ExistFood:!1,buttonDescription:"START"},n.state.field[Math.floor(Math.pow(n.width,2)/2)]=1,n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),setInterval(this.gameprocess,50)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var t=this.state.field.map((function(t,e){return c.a.createElement(l,{key:e,type:t})}));return c.a.createElement("div",{id:"game"},c.a.createElement("div",{id:"scorepanel"},"score: ",this.state.score),c.a.createElement("div",{id:"playground",style:{width:15*this.width,height:15*this.width}},t),c.a.createElement("button",{className:"ui primary button",onClick:this.handleOnClick},this.state.buttonDescription))}}]),a}(c.a.Component);h.a.render(c.a.createElement("div",null,c.a.createElement("div",{id:"header"}),c.a.createElement("div",{id:"left"}),c.a.createElement("div",{id:"right"}),c.a.createElement("div",{id:"main"},c.a.createElement("label",null,"Snack"),c.a.createElement(w,{width:19})),c.a.createElement("div",{id:"footer"},"made by \u59d3\u540d\uff1a\u718a\u5f65\u7a0b, \u5b78\u865f\uff1aB07901044")),document.getElementById("root"))}},[[7,1,2]]]);
//# sourceMappingURL=main.6beb5c73.chunk.js.map